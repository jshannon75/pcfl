---
title: "**PCFL 2025: Week 5 wrap-up**"
output:
  html_document:
    toc: true
    toc_float: 
      collapsed: true
      smooth_scroll: true
    toc_depth: 4
    theme: united
  github_document: default
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
#knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE
)
library(tidyverse)
library(knitr)
library(lubridate)
library(svglite)
library(kableExtra)
#library(hrbrthemes)
library(showtext)

setwd(here::here())

#font_add_google("IBM Plex Sans", "ibm")
extrafont::loadfonts()
week_sel=5

source("scripts/league_data.R")

```

We've entered bye weeks. Check your lineups!

## Last week's games

```{r, echo=FALSE}
kable(lastweek_results)%>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

And just like that, we have no more perfect teams. Sasquatch easily tamed the Broncos.

Also another week where everyone's pretty tightly clustered, except for the Jaheims (Evan). They did not enjoy week 5.

## Best performances

### Best players overall
Here's last week's **10 best performing starters.** 

```{r,echo=FALSE}
kable(top_n(starters,10,Points) %>%
        arrange(-Points))%>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

Currently Googling who Rico Dowdle is.

### Best players per team
Here's last week's top players **on each team.**

```{r,echo=FALSE}
kable(starter_team)%>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

### Best bench
Who won the **best scoring bench** award last week?

```{r,echo=FALSE}
kable(starter_benchteam %>% 
        arrange(-`Bench points`) %>%
  rename(Team=`PCFL Team`))%>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

 Here's the season's bench standings:

```{r,echo=FALSE}
 kable(starter_benchteam_all %>%
         arrange(-`Bench points`) %>%
 rename(Team=name))%>%
   kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

Our two newbies at the top of these standings.

### Best pick-ups
There were `r nrow(activity_info)` players added last week. Which was the **best pick-ups**?

```{r,echo=FALSE}
kable(activity_info %>% arrange(-Points)) %>%
   kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

The move to a 12 team league has made this chart pretty boring. Not a lot of difference makers out there.

### Waiver masters

I've tallied the players picked up by each team and the points they've contributed as starters. Here's where those stand.

```{r,echo=FALSE}
kable(roster_pickup %>%
        select(-abbrev) %>%
        rename(Team=name,Points=draftpoints) %>%
        arrange(-Points)) %>%
   kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

Team Sasquatch is really outstanding here.

### Recapping the draft
Here's the amount of points drafted players have contributed to each team as starters.

```{r,echo=FALSE}
kable(roster_draft %>% 
         select(-abbrev) %>%
        rename(Team=name,Points=draftpoints) %>% 
        arrange(-Points)) %>%
   kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

Pigskin (Richard) currently wins the best draft award.

### Best team performances 

Here's a list of the **top five scoring performances** so far this season.

```{r, echo=FALSE}
kable(toppoints %>%
        arrange(-Score))%>%
   kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

## Looking ahead

### League standings

Our league standings are a little unusual. We rank teams based on points, kinda like hockey. There are two ways to get points:

* Win your weekly matchup (1 point)
* Finish in the top six point scorers (1 point)

```{r, echo=FALSE}
kable(standings)%>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")

```

The Broncos (Will) are still at the top, but it's a tight race in among the top 3.

### If the season ended today...

Our playoff teams would be the Broncos, Henry's, Sharks, and the Jaheims's (points tiebreaker in that four way tie). 

### This week's matchups

```{r,echo=FALSE}
kbl(nextwk1) %>%
  kable_styling(bootstrap_options = c("striped","hover"), full_width = F, position = "left")
```

Good luck, y'all!